<?xml version="1.0" encoding="UTF-8"?>
<openerp>
  <data>
    <!--
==============================================
Modification of Partner - Adding Tab for Parent Companies
==============================================
-->
    <record model="ir.ui.view" id="view_partner_form">
      <field name="name">res.partner.form.parent_company</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="base.view_partner_form"/>
      <field name="priority" eval="20"/>
      <field name="arch" type="xml">
        <notebook>
          <page string="Participations">
            <notebook>
              <page string="Participations Current">
                <field name="partner_current_ids" colspan="4" nolabel="1" widget="one2many_list" >
                  <tree string="Parent Companies" editable="top">
                    <field name="name" select="1" sum="Sum Share"/>
                    <field name="paid_in" select="1" sum="Sum Paid in"/>
                    <field name="percentage" select="1" sum="Sum Percentage"/>
                    <field name="agio" select="1" sum="Sum Agio"/>
                    <field name="consolidation" select="1"/>
                    <field name="partner_parent_id" select="1"/>
                    <field name="valid_from" select="1"/>
                    <field name="valid_until" select="1"/>
                    <field name="valid_fiscal_from" select="1"/>
                    <field name="valid_fiscal_until" select="1"/>
                    <field name="contract_date" select="1"/>
                    <field name="contract_number" select="1"/>
                    <field name="comment"/>
                  </tree>
                  <form string="Parent Companies">
                    <field name="name" select="1"/>
                    <field name="paid_in" select="1"/>
                    <field name="percentage" select="1"/>
                    <field name="agio" select="1"/>
                    <field name="consolidation" select="1"/>
                    <field name="partner_parent_id" select="1"/>
                    <field name="valid_from" select="1"/>
                    <field name="valid_until" select="1"/>
                    <field name="valid_fiscal_from" select="1"/>
                    <field name="valid_fiscal_until" select="1"/>
                    <field name="contract_date" select="1"/>
                    <field name="contract_number" select="1"/>
                    <separator colspan="4" string="Notes"/>
                    <field name="comment" colspan="4" nolabel="1"/>
                  </form>
                </field>
                <field name="participation_current_ids" colspan="4" nolabel="1" widget="one2many_list" >
                  <tree string="Participations" editable="top">
                    <field name="name" select="1"/>
                    <field name="paid_in" select="1"/>
                    <field name="percentage" select="1"/>
                    <field name="agio" select="1"/>
                    <field name="consolidation" select="1"/>
                    <field name="partner_id" select="1"/>
                    <field name="valid_from" select="1"/>
                    <field name="valid_until" select="1"/>
                    <field name="valid_fiscal_from" select="1"/>
                    <field name="valid_fiscal_until" select="1"/>
                    <field name="contract_date" select="1"/>
                    <field name="contract_number" select="1"/>
                    <field name="comment"/>
                  </tree>
                  <form string="Participations">
                    <field name="name" select="1"/>
                    <field name="paid_in" select="1"/>
                    <field name="percentage" select="1"/>
                    <field name="agio" select="1"/>
                    <field name="consolidation" select="1"/>
                    <field name="partner_id" select="1"/>
                    <field name="valid_from" select="1"/>
                    <field name="valid_until" select="1"/>
                    <field name="valid_fiscal_from" select="1"/>
                    <field name="valid_fiscal_until" select="1"/>
                    <field name="contract_date" select="1"/>
                    <field name="contract_number" select="1"/>
                    <separator colspan="4" string="Notes"/>
                    <field name="comment" colspan="4" nolabel="1"/>
                  </form>
                </field>
              </page>
              <page string="Participations All">
                <field name="partner_ids" colspan="4" nolabel="1" widget="one2many_list" >
                  <tree string="Parent Companies" editable="top">
                    <field name="name" select="1" sum="Sum Share"/>
                    <field name="paid_in" select="1" sum="Sum Paid in"/>
                    <field name="percentage" select="1" sum="Sum Percentage"/>
                    <field name="agio" select="1" sum="Sum Agio"/>
                    <field name="consolidation" select="1"/>
                    <field name="partner_parent_id" select="1"/>
                    <field name="valid_from" select="1"/>
                    <field name="valid_until" select="1"/>
                    <field name="valid_fiscal_from" select="1"/>
                    <field name="valid_fiscal_until" select="1"/>
                    <field name="contract_date" select="1"/>
                    <field name="contract_number" select="1"/>
                    <field name="comment"/>
                  </tree>
                  <form string="Parent Companies">
                    <field name="name" select="1"/>
                    <field name="paid_in" select="1"/>
                    <field name="percentage" select="1"/>
                    <field name="agio" select="1"/>
                    <field name="consolidation" select="1"/>
                    <field name="partner_parent_id" select="1"/>
                    <field name="valid_from" select="1"/>
                    <field name="valid_until" select="1"/>
                    <field name="valid_fiscal_from" select="1"/>
                    <field name="valid_fiscal_until" select="1"/>
                    <field name="contract_date" select="1"/>
                    <field name="contract_number" select="1"/>
                    <separator colspan="4" string="Notes"/>
                    <field name="comment" colspan="4" nolabel="1"/>
                  </form>
                </field>
                <field name="participation_ids" colspan="4" nolabel="1" widget="one2many_list" >
                  <tree string="Participations" editable="top">
                    <field name="name" select="1"/>
                    <field name="paid_in" select="1"/>
                    <field name="percentage" select="1"/>
                    <field name="agio" select="1"/>
                    <field name="consolidation" select="1"/>
                    <field name="partner_id" select="1"/>
                    <field name="valid_from" select="1"/>
                    <field name="valid_until" select="1"/>
                    <field name="valid_fiscal_from" select="1"/>
                    <field name="valid_fiscal_until" select="1"/>
                    <field name="contract_date" select="1"/>
                    <field name="contract_number" select="1"/>
                    <field name="comment"/>
                  </tree>
                  <form string="Participations">
                    <field name="name" select="1"/>
                    <field name="paid_in" select="1"/>
                    <field name="percentage" select="1"/>
                    <field name="agio"/>
                    <field name="consolidation" select="1"/>
                    <field name="partner_id" select="1"/>
                    <field name="valid_from" select="1"/>
                    <field name="valid_until" select="1"/>
                    <field name="valid_fiscal_from" select="1"/>
                    <field name="valid_fiscal_until" select="1"/>
                    <field name="contract_date" select="1"/>
                    <field name="contract_number" select="1"/>
                    <separator colspan="4" string="Notes"/>
                    <field name="comment" colspan="4" nolabel="1"/>
                  </form>
                </field>
              </page>
            </notebook>
          </page>
        </notebook>
      </field>
    </record>
    <!--
==============================================
Definition of Parent Companies
==============================================
-->
    <record id="view_partner_parent_companies_form" model="ir.ui.view">
      <field name="name">res.partner.parent_company.form</field>
      <field name="model">res.partner.parent_company</field>
      <field name="type">form</field>
      <field name="arch" type="xml">
        <form string="Parent Companies">
          <field name="partner_id" select="1"/>
          <field name="partner_parent_id" select="1"/>
          <field name="name" select="1"/>
          <field name="paid_in" select="1"/>
          <field name="percentage" select="1"/>
          <field name="agio" select="1"/>
          <field name="consolidation" select="1"/>
          <field name="valid_from" select="1"/>
          <field name="valid_until" select="1"/>
          <field name="valid_fiscal_from" select="1"/>
          <field name="valid_fiscal_until" select="1"/>
          <field name="contract_date" select="1"/>
          <field name="contract_number" select="1"/>
          <separator colspan="4" string="Notes"/>
          <field name="comment" colspan="4" nolabel="1"/>
        </form>
      </field>
    </record>
    <record id="view_partner_parent_companies_tree" model="ir.ui.view">
      <field name="name">res.partner.parent_company.tree</field>
      <field name="model">res.partner.parent_company</field>
      <field name="type">tree</field>
      <field name="arch" type="xml">
        <tree string="Parent Companies" editable="top">
          <field name="partner_id" select="1"/>
          <field name="partner_parent_id" select="1"/>
          <field name="name" select="1" sum="Sum Share"/>
          <field name="paid_in" select="1" sum="Sum Paid in"/>
          <field name="percentage" select="1" sum="Sum Percentage"/>
          <field name="agio" select="1" sum="Sum Agio"/>
          <field name="consolidation" select="1"/>
          <field name="valid_from" select="1"/>
          <field name="valid_until" select="1"/>
          <field name="valid_fiscal_from" select="1"/>
          <field name="valid_fiscal_until" select="1"/>
          <field name="contract_date" select="1"/>
          <field name="contract_number" select="1"/>
          <field name="comment" select="1"/>
        </tree>
      </field>
    </record>
    <record id="action_partner_parent_companies_form" model="ir.actions.act_window">
      <field name="name">Partner Parents</field>
      <field name="res_model">res.partner.parent_company</field>
      <field name="view_type">form</field>
      <field name="view_mode">tree,form</field>
    </record>
    <menuitem
      action="action_partner_parent_companies_form"
      id="menu_partner_parent_companies_form"
      parent="base.menu_address_book"/>
    <!-- not working, because the structure must be in the resource not foreign
    <record id="view_partner_parent_companies_tree2" model="ir.ui.view">
      <field name="name">res.partner.parent_company.tree2</field>
      <field name="model">res.partner.parent_company</field>
      <field name="type">tree</field>
      <field name="field_parent">partner_id</field>
      <field name="arch" type="xml">
        <tree toolbar="1" string="Paticipation Strucutre">
          <field name="partner_parent_id" select="1"/>
          <field name="partner_id" string="Participation" select="1"/>
          <field name="name" select="1"/>
          <field name="percentage" select="1"/>
          <field name="agio" select="1"/>
          <field name="consolidation" select="1"/>
          <field name="valid_from" select="1"/>
          <field name="valid_until" select="1"/>
          <field name="valid_fiscal_from" select="1"/>
          <field name="valid_fiscal_until" select="1"/>
          <field name="contract_date" select="1"/>
          <field name="contract_number" select="1"/>
        </tree>
      </field>
    </record>
    <record model="ir.actions.act_window" id="open_partner_participation_tree">
      <field name="name">Participation Structure (not working)</field>
      <field name="res_model">res.partner.parent_company</field>
      <field name="view_type">form</field>
      <field name="view_mode">tree,form</field>
      <field name="view_id" ref="view_partner_parent_companies_tree2"/>
    </record>
    <menuitem
      action="open_partner_participation_tree"
      id="menu_partner_participation_tree"
      parent="base.menu_address_book"/>
        -->
    <!--
    <record id="view_partner_tree_struct" model="ir.ui.view">
      <field name="name">res.partner.tree.struct</field>
      <field name="model">res.partner</field>
      <field name="type">tree</field>
      <field name="field_parent">partner_ids</field>
      <field name="arch" type="xml">
        <tree toolbar="1">
          <field name="name"/>
        </tree>
      </field>
    </record>
    <record id="action_partner_tree_struct" model="ir.actions.act_window">
      <field name="name">Participation Structure</field>
      <field name="res_model">res.partner</field>
      <field name="type">ir.actions.act_window</field>
      <field name="view_type">tree</field>
      <field name="view_id" ref="view_partner_tree_struct"/>
    </record>
    <menuitem
      action="action_partner_tree_struct"
      id="menu_partner_tree_struct"
      parent="base.menu_address_book"/>
        -->
  </data>
</openerp>
